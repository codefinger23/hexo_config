---
title: JS高程 第三章 JS语法
date: 2017-10-19 22:08:57
tags: [读书笔记, JavaScript高级程序设计]
---
> 本章篇幅很长，因为通篇都在讲JavaScript语言的规范和特性，但是每一次阅读都会有新的发现。

<!--more-->

## 语法

任何语言的核心都必然描述这门语言的基本运行原理。而描述的内容通常涉及这门语言的语法、操作符、数据类型、内置功能等用于构建复杂方案的的基本概念。如前所述，ECMA-262通过叫做ECMAScript的伪语言为我们描述了JavaScript这些基本概念。  

ECMAScript的语法大量借鉴了C语言及其他类C语言，如JAVA，Perl等。在编辑JavaScript代码时主要需要关注以下几点。

### 区分大小写

这一点没什么可说的，javascript的所有变量，标识符都是需要区分大小写的。

### 标识符

标识符就是变量，函数，属性及函数参数的名字，按照以下规则组合而成的字符串：

- 第一个字符必须是字母(包含大小写)，下划线(_) 或 美元符($)
- 除第一个字符以外的其他字符字母，下划线，美元符，数字
- 标识符也可以包含扩展ASCII码或Unicode，这意味着变量名可以是中文，但是有可能浏览器不支持，使用时需要谨慎。
- 标识符常采用驼峰命名法
- 不能将关键字，保留字,true,false 或 null 作为标识符

### 注释

JavaScript的注释和C语言类似，分为单行注释和多行注释

```JavaScript

\\ 这是单行注释

\*
 这里是多行注释
*/

```

### 严格模式

ES5 引入了严格模式的概念，严格模式的意思就是严格的解释方式对JS代码进行解释，对ES3的一些不确定行为，或不安全行为都会抛出错误，而不是异常。在js代码中使用严格模式只需要在代码或函数头添加字符串
"use strict"
这是一个编译指示，类似与C语言中的宏。

### 语句

ECMAScript中的语句以分号结尾，如果没有分号则有解析器确定结尾，一般是换行，如果在一行中写入多条语句，则必须以分号分割。

## 关键字和保留字

关键字是指在在js中有明确用途的特定字符串，如不能被作为保留字。如for,while,switch,return 等。

保留字是指，在js中目前没有使用，但是在将来的版本中可能会使用的字符串，实际上是关键字的一个超集，有些文档中可能将关键字也描述为保留字。

## 变量

ECMAScript中的变量是松散型的，所谓松散型就是说js的变量可以用来保存任意类型的数据，区别于C语言有明确的类型，如int,char等，在js中都可以用变量来保存。在js中使用变量，采用var关键字进行声明即可。

```JavaScript
var message; //声明
message="good"; //赋值
message=1; //变更
var message=1; //声明并赋值

```

以上代码简单的说明了变量的使用

## 数据类型

ECMAScript有五种简单的数据类型（又称基本数据类型）: undefined,null,boolean,number,string，还有一种高级数据类型Object。

> 使用typeof操作符可以检测数据的类型,如typeof(message); 或 typeof message

## 操作符

### 一元操作符

- 递增递减操作符 --, ++
- 一元加减 -,+

### 位操作符

非常geek的操作符，直接对内存数据进行二进制操作
- 左移 <<
- 右移 >>
- 与或非 &,|,!
- 异或 ^

### 布尔操作符

- 逻辑与 &&
- 逻辑或 ||

### 乘性操作符

- 乘法 *
- 除法 /
- 求模 %

### 加性操作符

- 加法 +
- 减法 -

### 关系操作符

对字符串进行关系操作，会按照字典序比较。

- 大于，大于等于 >, >=
- 小于，小于等于 <, <=

### 相等操作符

需要注意全等和正常等于在用于对象类型的区别

- 相等，不相等 ==, !=
- 全等，不全等 ===, !==

### 条件操作符

等价于C语言的三目运算符 statement ? true : false

### 赋值操作符

简单的等号赋值

### 逗号操作符

用来进行多种等价操作

## 语句

- if语句

需要注意js没有块级作用域，所以在if中声明的变量在外面也可以使用

- do-while
- while
- for
- for-in
- label
- break,continue
- with
- switch

## 函数

函数是一个比较核心的概念，可以对多条语句进行封装，易于代码复用及解耦。使用function进行声明使用，这里主要标记一下js的函数和传统函数有何区别

### 参数

js的函数参数很简单也很复杂，它没有函数签名的概念，可以用别名使用，也可以通过arguments对象进行访问，这意味着函数参数不仅仅是不限制参数个数的，并不是声明了几个参数就必须使用哪些参数。

另外一点就是函数参数是传值的，对于基本类型就是对内存块的赋值，但是对于引用类型，传的是应用类型变量的值，而不是其地址，不想深究的可以简单的想像成C语言的指针，这也是一种值传递。

### 没有重载

高级的面向对象语言都会提供重载来丰富方法行为，但是由于js的松散型特性，就没有必要再引入重载，所以对于函数的重载，只能自己对数据类型进行判断，也就是typeof或者arguments对象进行自行处理。

如果定义了同名函数，根据js从上到下的解释行为，后定义的函数会覆盖先定义的函数

## 小结

本章的主要内容描述了ECMAScript的基本内容，能够初次接触了javascript语言的全貌，大体上和传统的编程语言没有区别，主要有一下几点：

- ECMAScript是松散型变量，即一个变量可以存储多种数据类型
- 没有块级作用域，在花括号中定义的局部变量会升级
- 基本数据类型包括，undefined,null,boolen,number,string
- ECMAScript中没有整型和浮点型的区分，都是number类型
- Object数据类型为ECMAScript提供了丰富的功能
- 严格模式提供了更加严格的编码要求
- 未指定返回值的函数实际上会返回undefined值
- 函数没有函数签名的概念，传递给函数的参数实际上是以数组方式传递的
- 可以使用自定义别名的方式使用函数参数，也可以使用arguments对象
- js没有重载
