---
title: Java编程思想 第7章 复用类
date: 2017-11-22 22:26:38
tags: [读书笔记, Java编程思想]
---

> 复用代码是Java众多引人注目的功能之一。但要想称为极具革命性的语言，仅仅能够复制代码并对之加以改变是不够的，它还必须能够做更多的事情。
<!--more-->
## 组合语法

所谓组合语法复用代码，就是将对象引用置于新类中即可。

## 继承语法

继承是所有OOP语言和Java语言不可缺少的组成部分。当创建一个类时，总是在继承，因此除非已明确指出要从其他类中继承，否则就是在隐式地从Java的标准根类Object进行继承。

## 代理

第三种关系称为代理，Java并没有提供对它的直接支持。这是继承与组合之间的中庸之道，因为我们将一个成员对象置于所要构造的类中，但于此同时我们在新类中暴露了该成员的所有方法。

## 结合使用组合和继承

通过结合使用组合和继承可以创建复杂的类。虽然编译器强制初始化基类，但是它并不监督成员对象也必须初始化，因此需要随时注意。

通过@Override注解，可以令方法只能被覆盖，不能被重载。

## 在组合与继承之间选择

组合技术通常用于想在新类中使用现有类的功能而非它的接口这种情形。即新类中嵌入某个对象，让其实现所需要的功能，但新类的用户看到的只是为新类所定义的接口，而非嵌入对象的接口。

在继承的时候，使用某个现有类，并开发一个它的特殊版本。通常，这意味着在使用一个通用类，并为了某种特殊需要而将其特殊化。

## 向上转型

为新的类提供方法并不是继承技术中最重要的方面，其最重要的方面是用来表现新类和基类之间的关系。这种可以用新类是现有类的一种类型这句话加以概括。

向上转型功能提供了Java多态的一种实现。

## final关键字

- final数据：final修饰的基本类型表示声明之后就不再改变的常量。final修饰的引用类型，表示引用经过初始化后的引用不能再指向其他对象，但是Java允许生成空白final，是指被声明为final但又未给定初值的域，这些域再初始化之后就无法改变。final修饰的参数，表示再方法内部参数不能变更。
- final方法：final修饰的方法表示方法不会被覆盖，同时也将转化为内嵌调用。
- final类： 表示类不可被继承。

## 初始化及类的加载

Java的加载方式是只在需要使用程序代码时加载。除此使用之处也是static初始化发生之处。另外，构造函数也是static方法，虽然没有显示声明，但是编译器会这样自动设定的。

## 总结

继承和组合都能从现有类型生成新类型。组合一般是将现有类型作为新类型底层实现的一部分来加以复用，而继承复用的是接口。

当设计一个系统时，应该认识到程序开发时一种增量过程，犹如人类的学习一样，这一点很重要。