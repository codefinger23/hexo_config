---
title: Java编程思想 第2章 一切都是对象
date: 2017-11-18 02:12:45
tags: [读书笔记, Java编程思想]
---
> 如果我们说另外一种不同的额语言，那么我们就会发觉一个有些不同的世界。 —— Luduing Wittgerstein(1889-1951)
<!--more-->

## 用引用操作对象

每种编程语言都有自己的操作内存中的元素的方式。在Java中，一切都被视为对象，操作对象的标识符实际上是对象的一个引用。直接创建一个某种类型的引用，然后向这个引用发送消息会导致运行时报错，因为引用并没有指向实际的对象，即在内存中没有实际的存储空间。

## 必须由你创建所有的对象

Java使用new操作符来创建一个新的对象，可以将引用与new操作符创建的对象关联起来，除了基本类型外所有的对象都要使用这种方式创建，实际上基本包装类型也可以使用new操作符来实例化，这样可以让基本类型看起来生成的方式和普通对象差不多，而不是单独对待。

实例化的对象将会存储在一下几个位置：

- 寄存器：这是最快的存储区，因为它位于处理器内部。但是寄存器数量有限，所以寄存器是按需分配的，不能直接控制，也不能在程序中感觉到寄存器存在的迹象。
- 栈空间：位于RAM内存中，可以通过栈指针从处理器直接获得支持，通过指针的上下移动，存储在栈空间的对象就有了明确的生命周期。
- 堆空间：同样位于RAM中，与栈空间不同的是，编译器不需要知道存储的数据能够存活多长时间，也因此，用堆进行存储分配和清理需要更多的时间。
- 常量存储。常量存储通常直接存放在程序代码内部，有时，在嵌入式系统中，常量本身会和其他部分隔离开，所以这种情况下，可以将其放在ROM中。
- 非RAM存储。通常来说，非RAM存储就是说数据完全存活于程序之外，所以此时对象就与程序无关了，哪怕程序终止，对象仍然存在，两个基本的例子是流对象和持久化对象。在流对象中，对象转化成字节流，发送给另一台机器。在持久化对象中，对象被存放于磁盘上。

## 永远不需要销毁对象

在通常的编程语言中，都有作用域的概念，作用域决定了在其内定义的变量名的可见性和生命周期。同时也支持局部变量和全局变量。但是在Java对象中，不具备和基本类型一样的生命周期，只要new出来的对象，就会一直存在，但是因为Java非常流弊的垃圾回收机制，因此可以不要管new出来的对象，Java自己会在恰当的实际对它们占有的内存进行回收。

## 创建新的数据类型：类

类决定了某一类对象的外观和行为。Java通过class这个关键字创建一个新的类型。创建的新类型可以通过new操作符实例化出对应的对象。

## 方法、参数和返回值

方法其实就是Java中的函数，但是因为这个函数位于对象中，因此在Java中叫做方法，以区别于普通的函数，其他形式和函数相同。

## 构建一个Java程序

首先，Java通过反转域名的方式命名包，可以达到类似于C++中的名空间概念来避免名冲突问题。

其次，通过import在程序中引入其他构件。

最后，static关键字修饰的方法可以不通过实例化的对象而直接访问，同时，使用static修饰的域同时存放在公有的空间中，任何一个对象对静态变量的修改，都会导致其他对象获取同一值时的变更。

## 你的第一个Java程序

包含public static void main(String[] args)这个静态方法的类都可以被视为Java程序的入口，可以直接运行，Java程序默认引入的包是java.lang，其中包含的所有对象和方法都可以直接访问，而不需要import导入，比如System。

## 注释和嵌入式文档

Java支持两种风格的注释/* */块注释和//行注释，这点和C++是一致的。

利用javadoc可以从java注释中获取文档，使用javadoc的方式主要有两种：嵌入HTML或使用HTML。独立文档标签是一些以@字符开头的命令，并且要置于注释行的最前面。而行内文档标签则可以垂涎在javadoc注释中的任何部分，它们也是以@开头，但是要括在花括号中。

## 编码风格

Java的命名规范是类名采用驼峰命名法，即名中的每个单词首字母大写，对象名同样是如此，只不过第一个单词的首字母小写。这是公认的Java命名规范。

## 总结

本章主要是对Java的基本内容做了了解，主要是让初学者能够运行起来一个内容完备的Java程序，实际上原文中提到很多课本上没有提到的知识，比如注解和javadoc文档标签，实际上在标准的Java代码中这些很常见，由此可见学院派的一大弊端，屏蔽了很多有趣的知识，在阅读本书时要重新掌握对于Java的认识，对其基本思想重新有一个总体的认识。