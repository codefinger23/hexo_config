---
title: Java编程思想 第6章 访问权限控制
date: 2017-11-21 22:45:49
tags: [读书笔记, Java编程思想]
---
> 访问控制(或隐藏实现具体)与“最初实现并不恰当”有关
<!--more-->
## 包：库单元

包内含有一组类，它们在单一的名字空间之下被组织在了一起。每一个Java源代码文件称为编译单元。每一个编译单元只能有一个public类，类名和文件名相同，但是可以有任意的非public类。

使用package声明类文件属于某一个库单元，这个库单元采用文件分组的方式，package的声明必须与文件层次相同。可以使用逆转域名的方式来创建独一无二的包名。

Java没有C的条件编译功能，因为C中的条件编译多用来解决跨平台问题，但是在Java中天然解决了这个问题，所以不用关心，当时条件编译的另外一个功能，即调试模式，可以使用import导入不同包的方式来实现。

## Java访问权限修饰符

- 包访问权限：没有任何访问权限修饰符就默认获得包访问权限，同属一个包的其他类可以访问这些类和方法。对包外的元素就是不可见的。
- public：接口访问权限，意味这所有客户端程序员可以直接调用的接口。
- private：除了包含该成员的类之外，其他任何类都无法访问。通过设置构造方法为private，可以限制类的创建，单例模式就是通过这种方式实现。
- protected：该关键字表示可继承成员，对于非继承元素，protected成员和private成员的表现相同，都是不可见的。

## 接口和实现

访问权限的控制常被称为是具体实现的隐藏。把数据和方法包装进类中，以及具体实现的隐藏，常共同被称作是封装。其结果是一个同时带有特征和行为的数据类型。为了清楚起见，推荐将public成员置于开头，后面跟着protected、包访问权限、private成员的创建类的形式。

## 类的访问权限

在Java中，访问权限修饰词也可以用于确定库中的那些类对于该库的使用者是可用的。如果希望某个类可以为某个客户端程序员所用，就可以通过把关键字public作用域整个类的定义来达到目的。这样做甚至可以控制客户端程序员是否能创建一个该类的对象。

## 总结

无论还是在什么样的关系之中，设定一些为各成员所遵守的界限始终是很重要的。当创建了一个类库，也就与该类库的用户建立了某种关系，这些用户就是客户端程序员。通过控制对成员的访问权限控制，就可以使用户不要接触那些他们不该碰触的部分，就可以使类库设计者可以修改隐藏的部分以提升性能，而不必担心用户们对这些隐藏部分的依赖。